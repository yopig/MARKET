/* =====================================================
   Button System — Neutral / Brutalist
   (Bootstrap-compatible · Vertical Centering Fixed)
   FULL REPLACE
   ===================================================== */

/* ------- 변수 기본값 (테마 변수가 없어도 동작하도록) ------- */
:root {
    --h-btn: 44px;
    --h-input: 44px;
    --btn-gap: .5rem;
    --btn-radius: 999px;
    --btn-padding-x: 18px;
    --btn-padding-x-sm: 14px;
    --btn-padding-x-lg: 22px;

    --btn-bg: var(--brand, #111);
    --btn-bg-hover: var(--brand-strong, #000);
    --btn-fg: #fff;

    --btn-outline-fg: var(--ink-800, #1f1f1f);
    --btn-outline-border: var(--ink-800, #1f1f1f);
    --btn-outline-bg-hover: var(--ink-800, #1f1f1f);
    --btn-outline-fg-hover: #fff;

    --btn-ghost-fg: var(--ink-700, #2e2e2e);
    --btn-ghost-border: var(--border-strong, #d0d0d0);
    --btn-ghost-bg-hover: var(--ink-050, #f5f5f5);

    --btn-ok-bg: var(--ok, #16a34a);
    --btn-warn-bg: var(--warn, #eab308);
    --btn-bad-bg: var(--bad, #ef4444);

    --focus-color: var(--brand, #111);
}

/* ------- 기본 버튼 (세로 중앙정렬 + Flex) ------- */
button,
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--btn-gap);
    min-height: var(--h-btn);
    height: auto;
    line-height: 1;                 /* 폰트 라인박스 영향 최소화 */
    padding: 0 var(--btn-padding-x);
    border-radius: var(--btn-radius);
    border: none;
    background: var(--btn-bg);
    color: var(--btn-fg);
    font-weight: 800;
    text-decoration: none;
    box-shadow: 0 2px 4px rgba(0,0,0,.15);
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
    vertical-align: middle;
}

button:hover,
.btn:hover {
    background: var(--btn-bg-hover);
    box-shadow: 0 4px 8px rgba(0,0,0,.2);
}

button:active,
.btn:active {
    transform: scale(.97);
}

/* 포커스 */
button:focus-visible,
.btn:focus-visible {
    outline: 2px dashed var(--focus-color);
    outline-offset: 2px;
}

/* 비활성화 */
button:disabled,
.btn:disabled,
.disabled.btn {
    opacity: .6;
    cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
}

/* ------- 아이콘 정렬 보정 ------- */
.btn > svg,
.btn .bi,
.btn .fa {
    vertical-align: middle;
    transform: translateY(-.5px);   /* 0 ~ -1px 사이 취향 보정 */
}

/* ------- 사이즈 변형 ------- */
.btn-sm {
    min-height: 36px;
    padding: 0 var(--btn-padding-x-sm);
    font-weight: 700;
}
.btn-lg {
    min-height: 52px;
    padding: 0 var(--btn-padding-x-lg);
    font-weight: 800;
}

/* ------- 스타일 변형 ------- */
/* Outline */
.btn-outline {
    background: #fff;
    color: var(--btn-outline-fg);
    border: 2px solid var(--btn-outline-border);
    box-shadow: none;
}
.btn-outline:hover {
    background: var(--btn-outline-bg-hover);
    color: var(--btn-outline-fg-hover);
}

/* Ghost */
.btn-ghost {
    background: transparent;
    color: var(--btn-ghost-fg);
    border: 2px dashed var(--btn-ghost-border);
    box-shadow: none;
}
.btn-ghost:hover {
    background: var(--btn-ghost-bg-hover);
}

/* 상태 버튼 */
.btn-ok    { background: var(--btn-ok-bg); }
.btn-warn  { background: var(--btn-warn-bg); color: #111; }
.btn-bad   { background: var(--btn-bad-bg); }

/* 링크 버튼 (텍스트 링크처럼) */
.btn-linklike {
    background: transparent;
    color: var(--btn-outline-fg);
    border: none;
    box-shadow: none;
    padding: 0;
    min-height: auto;
    font-weight: 700;
}
.btn-linklike:hover {
    text-decoration: underline;
}

/* 아이콘 전용(정사각) */
.btn-icon {
    width: var(--h-btn);
    min-width: var(--h-btn);
    padding: 0;
}

/* 꽉 차게 */
.btn-block {
    display: flex !important;
    width: 100%;
}

/* ------- InputGroup 안 버튼 높이 동기화 ------- */
.input-group .btn {
    height: var(--h-input);
    min-height: var(--h-input);
    padding: 0 14px;
    line-height: 1;
    border-radius: 0 var(--btn-radius) var(--btn-radius) 0; /* 오른쪽 버튼일 때 */
}
.input-group .btn:first-child {
    border-radius: var(--btn-radius) 0 0 var(--btn-radius); /* 왼쪽 버튼일 때 */
}

/* ------- 드롭다운 토글 케럿 정렬(Boostrap 호환) ------- */
.dropdown-toggle::after {
    margin-left: .35rem;
    transform: translateY(1px);
}

/* ------- 로딩 상태 (스피너 내장) ------- */
.btn.is-loading {
    position: relative;
    pointer-events: none;
    color: transparent !important;      /* 텍스트 숨김 */
}
.btn.is-loading::after {
    content: "";
    position: absolute;
    width: 18px; height: 18px;
    border: 3px solid rgba(255,255,255,.35);
    border-top-color: rgba(255,255,255,1);
    border-radius: 50%;
    animation: btnspin .8s linear infinite;
}
@keyframes btnspin { to { transform: rotate(360deg); } }

/* ------- 네비게이션 배치용 버튼 높이(옵션) ------- */
.bj-navbar .btn {
    min-height: 40px;                   /* Nav 영역에 맞춤 */
    padding: 0 .9rem;
}

/* ------- 리듀스드 모션 ------- */
@media (prefers-reduced-motion: reduce){
    * {
        transition-duration: .001ms !important;
        animation-duration: .001ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
    }
}

/* ------- 다크모드(선호시) 대비 약간의 튜닝 ------- */
@media (prefers-color-scheme: dark){
    .btn-outline { background: transparent; }
    .btn-outline:hover { background: var(--btn-outline-bg-hover); }
    .btn-ghost:hover { background: rgba(255,255,255,.06); }
}
